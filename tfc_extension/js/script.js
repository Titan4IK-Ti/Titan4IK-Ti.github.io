const translations = {
    ua: {
        'site-title': 'Twitch Chat Filter - Захист вашого акаунта',
        'hero-title': 'Twitch Chat Filter',
        'hero-subtitle': 'Захист від випадкового написання заборонених слів у чаті',
        'hero-button': 'Дізнатися більше',
        'about-title': 'Що таке Twitch Chat Filter?',
        'feature1-title': 'Захист від випадкової запреткі',
        'feature1-text': 'Одна з головних причин блокування акаунта - написання заборонених слів, навіть якщо вони були написані випадково.',
        'feature2-title': 'Можливість редагування',
        'feature2-text': 'Ви можете самостійно додавати слова, які заборонені на платформі Twitch або на певному каналі.',
        'feature3-title': 'Open Source 100%',
        'feature3-text': 'Розширення повністю з відкритим кодом і не може містити вірусів.',
        'video-title': 'Як встановити розширення',
        'download-button': 'Завантажити розширення',
        'version-text': 'версія 0.1',
        'safety-title': 'Правила безпеки',
        'safety1-title': 'Зробіть нейтральне слово',
        'safety1-text': 'Введіть смайлик або будь-яке нейтральне слово в "запреткі", щоб перевірити працездатність розширення, оскільки Twitch може оновитися і розширення може працювати некоректно',
        'safety2-title': 'Завжди використовуйте сучасну версію',
        'safety2-text': 'Зараз актуальна версія 0.1v',
        'faq-title': 'Часті запитання',
        'faq1-question': 'Що таке Twitch Chat Filter?',
        'faq1-answer': 'Просте розширення для браузера.',
        'faq2-question': 'Чи зберігаємо ми особисті дані?',
        'faq2-answer': 'Ні, у нас навіть серверів немає, сайт знаходиться на github pages',
        'faq3-question': 'Чому сайт кривий?',
        'faq3-answer': 'Весь проект написаний нейромережею, при помилках інтерфейсу або ще чомусь ви можете повідомити про це нас, і ми виправимо',
        'footer-text': 'Twitch Chat Filter © Titan4IK. Всі права захищені.'
    },
    ru: {
        'site-title': 'Twitch Chat Filter - Защита вашего аккаунта',
        'hero-title': 'Twitch Chat Filter',
        'hero-subtitle': 'Защита от случайного написание запреток в чате',
        'hero-button': 'Узнать больше',
        'about-title': 'Что такое Twitch Chat Filter?',
        'feature1-title': 'Защита от случайной запретки',
        'feature1-text': 'Одна из главных причин бана аккаунта это написание запретки, даже если она была написано случайно и не обдумано.',
        'feature2-title': 'Возможность редактирования',
        'feature2-text': 'Вы можете сами добавлять слова которые запрещены на платформе Twitch или на определенном канале.',
        'feature3-title': 'Open Source 100%',
        'feature3-text': 'Разширение полностью с открытым кодом и не может содержать вирусов.',
        'video-title': 'Как установить расширение',
        'download-button': 'Скачать расширение',
        'version-text': 'версия 0.1',
        'safety-title': 'Правила безопасности',
        'safety1-title': 'Сделайте нейтральное слово',
        'safety1-text': 'Впишите смайлик или любое нейтральное слово в "запретки" чтобы проверить роботоспособность разширения т.к Twitch может обновиться и разширенние может роботать не коректно',
        'safety2-title': 'Используйте всегда современную версию',
        'safety2-text': 'Сейчас актуальная версия 0.1v',
        'faq-title': 'Часто задаваемые вопросы',
        'faq1-question': 'Что такое Twitch Chat Filter?',
        'faq1-answer': 'Простое разширение для браузера.',
        'faq2-question': 'Сохраняем ли мы личные данные?',
        'faq2-answer': 'Нет, у нас даже серверов нету, сайт находиться на github pages',
        'faq3-question': 'Почему сайт кривой?',
        'faq3-answer': 'Весь проект написан нейросетью, при ошибках интерфейса или ещё чем-то вы можете уведомить об этом нас, и мы исправим',
        'footer-text': 'Twitch Chat Filter © Titan4IK. Все права защищены.'
    },
    en: {
        'site-title': 'Twitch Chat Filter - Account Protection',
        'hero-title': 'Twitch Chat Filter',
        'hero-subtitle': 'Protection from accidentally typing banned words in chat',
        'hero-button': 'Learn More',
        'about-title': 'What is Twitch Chat Filter?',
        'feature1-title': 'Protection from accidental bans',
        'feature1-text': 'One of the main reasons for account bans is typing banned words, even if it was accidental and unintentional.',
        'feature2-title': 'Editing capability',
        'feature2-text': 'You can add words that are banned on the Twitch platform or specific channels yourself.',
        'feature3-title': '100% Open Source',
        'feature3-text': 'The extension is completely open-source and cannot contain viruses.',
        'video-title': 'How to install the extension',
        'download-button': 'Download extension',
        'version-text': 'version 0.1',
        'safety-title': 'Safety Rules',
        'safety1-title': 'Create a neutral word',
        'safety1-text': 'Enter an emoji or any neutral word in the "banned words" to test the extension\'s functionality, as Twitch updates might affect its performance',
        'safety2-title': 'Always use the latest version',
        'safety2-text': 'The current version is 0.1v',
        'faq-title': 'Frequently Asked Questions',
        'faq1-question': 'What is Twitch Chat Filter?',
        'faq1-answer': 'A simple browser extension.',
        'faq2-question': 'Do we store personal data?',
        'faq2-answer': 'No, we don\'t even have servers; the site is hosted on GitHub Pages',
        'faq3-question': 'Why is the site wonky?',
        'faq3-answer': 'The entire project was written by a neural network; if you notice interface errors or anything else, you can notify us, and we\'ll fix it',
        'footer-text': 'Twitch Chat Filter © Titan4IK. All rights reserved.'
    }
};

function setLanguage(lang) {
    document.querySelectorAll('[id]').forEach(element => {
        if (translations[lang][element.id]) {
            element.textContent = translations[lang][element.id].replace('©', '© ' + new Date().getFullYear());
        }
    });
    document.documentElement.lang = lang;
    const currentLang = document.getElementById('current-lang');
    currentLang.innerHTML = lang.toUpperCase() + ' <img src="' + 
        (lang === 'ua' ? 'https://flagcdn.com/16x12/ua.png' : 
         lang === 'ru' ? 'ru.png' : 
         'https://flagcdn.com/16x12/gb.png') + '" class="flag-icon">';
}

document.getElementById('year').textContent = new Date().getFullYear();

document.querySelectorAll('.faq-question').forEach(question => {
    question.addEventListener('click', () => {
        const item = question.parentElement;
        item.classList.toggle('active');
        document.querySelectorAll('.faq-item').forEach(otherItem => {
            if (otherItem !== item) {
                otherItem.classList.remove('active');
            }
        });
    });
});

document.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', (e) => {
        e.preventDefault();
        const lang = item.getAttribute('data-lang');
        setLanguage(lang);
    });
});

// Установка украинского языка по умолчанию
setLanguage('ua');